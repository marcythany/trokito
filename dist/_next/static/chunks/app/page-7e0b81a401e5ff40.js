(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{381:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},1056:(e,t,r)=>{"use strict";r.d(t,{j:()=>i});class a{isWebAuthnSupported(){return void 0!==window.PublicKeyCredential&&void 0!==navigator.credentials}async registerWithWebAuthn(e){if(!this.isWebAuthnSupported())throw Error("WebAuthn n\xe3o \xe9 suportado neste navegador");try{let t={challenge:this.generateChallenge(),rp:{name:"Trokito",id:window.location.hostname},user:{id:this.stringToBuffer(e),name:e,displayName:e},pubKeyCredParams:[{type:"public-key",alg:-7}],authenticatorSelection:{authenticatorAttachment:"platform",requireResidentKey:!1,userVerification:"preferred"},timeout:6e4,attestation:"none"};if(!await navigator.credentials.create({publicKey:t}))throw Error("Falha ao criar credencial");let r={id:e,name:e,createdAt:new Date};return localStorage.setItem(this.USER_STORAGE_KEY,JSON.stringify(r)),r}catch(e){return console.error("Erro no registro com WebAuthn:",e),null}}async authenticateWithWebAuthn(){if(!this.isWebAuthnSupported())throw Error("WebAuthn n\xe3o \xe9 suportado neste navegador");try{let e=localStorage.getItem(this.USER_STORAGE_KEY);if(!e)throw Error("Nenhum usu\xe1rio registrado");let t=JSON.parse(e),r=this.generateChallenge();if(!await navigator.credentials.get({publicKey:{challenge:r,timeout:6e4,userVerification:"preferred"}}))throw Error("Falha na autentica\xe7\xe3o");return t}catch(e){return console.error("Erro na autentica\xe7\xe3o com WebAuthn:",e),null}}setPIN(e){localStorage.setItem(this.PIN_STORAGE_KEY,e)}verifyPIN(e){return localStorage.getItem(this.PIN_STORAGE_KEY)===e}isAuthenticated(){return null!==localStorage.getItem(this.USER_STORAGE_KEY)}getCurrentUser(){let e=localStorage.getItem(this.USER_STORAGE_KEY);return e?JSON.parse(e):null}logout(){localStorage.removeItem(this.USER_STORAGE_KEY),localStorage.removeItem(this.PIN_STORAGE_KEY)}generateChallenge(){let e=new Uint8Array(32);return window.crypto.getRandomValues(e),e.buffer}stringToBuffer(e){return new TextEncoder().encode(e).buffer}constructor(){this.USER_STORAGE_KEY="trokito_user",this.PIN_STORAGE_KEY="trokito_pin"}}let i=new a},1057:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var a=r(5155),i=r(6639),n=r(7168),o=r(8482),s=r(6740),c=r(7434),l=r(9676),d=r(381),u=r(9947),h=r(2115);function p(){let[e,t]=(0,h.useState)(!1),r=(0,h.useRef)(null);(0,h.useEffect)(()=>{let e=()=>{window.matchMedia("(display-mode: standalone)").matches&&t(!0)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,h.useEffect)(()=>{r.current&&r.current.focus()},[]);let p=[{title:"Calcular Troco",description:"Calcule o troco de forma r\xe1pida e otimizada",icon:s.A,href:"/troco",color:"bg-primary"},{title:"Fechamento",description:"Fa\xe7a a contagem do vale/caixa",icon:c.A,href:"/fechamento",color:"bg-primary"},{title:"Hist\xf3rico",description:"Veja o hist\xf3rico de opera\xe7\xf5es",icon:l.A,href:"/historico",color:"bg-card"},{title:"Configura\xe7\xf5es",description:"Ajuste as configura\xe7\xf5es do app",icon:d.A,href:"/configuracoes",color:"bg-card"},{title:"Ajuda",description:"Tutorial e dicas de uso",icon:u.A,href:"/ajuda",color:"bg-card"}];return(0,a.jsx)(i.A,{children:(0,a.jsx)("div",{className:"min-h-screen bg-background p-4",children:(0,a.jsxs)("div",{className:"max-w-md mx-auto space-y-6",children:[(0,a.jsxs)("div",{className:"text-center space-y-2 py-6",children:[(0,a.jsx)("h1",{ref:r,tabIndex:-1,className:"text-4xl font-bold text-foreground font-serif focus:outline-none",children:"Trokito"}),(0,a.jsx)("p",{className:"text-lg text-foreground/80",children:"Calculadora de Troco Inteligente"}),!e&&(0,a.jsx)("p",{className:"text-sm text-foreground/60 mt-4",role:"status",children:"\uD83D\uDCA1 Adicione \xe0 tela inicial para acesso r\xe1pido"})]}),(0,a.jsx)("nav",{"aria-label":"Menu principal",children:(0,a.jsx)("div",{className:"space-y-4",children:p.map(e=>{let t=e.icon;return(0,a.jsx)(o.Zp,{className:"border-2 border-border hover:border-accent transition-colors",children:(0,a.jsx)(o.Wu,{className:"p-0",children:(0,a.jsxs)(n.$,{variant:"ghost",className:"w-full h-auto p-6 flex items-center gap-4 text-left touch-target focus:ring-2 focus:ring-primary focus:ring-offset-2",onClick:()=>window.location.href=e.href,"aria-label":"".concat(e.title,": ").concat(e.description),children:[(0,a.jsx)("div",{className:"p-3 rounded-lg ".concat(e.color),children:(0,a.jsx)(t,{className:"h-8 w-8 text-white","aria-hidden":"true"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-foreground font-serif",children:e.title}),(0,a.jsx)("p",{className:"text-foreground/70 mt-1",children:e.description})]})]})})},e.href)})})}),(0,a.jsxs)("div",{className:"text-center text-sm text-foreground/60 py-4",children:[(0,a.jsx)("p",{children:"Vers\xe3o 1.0 - Funciona offline"}),(0,a.jsx)("p",{className:"mt-1",children:"Feito para operadores de caixa brasileiros"})]})]})})})}},1182:(e,t,r)=>{Promise.resolve().then(r.bind(r,1057))},3999:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var a=r(2596),i=r(9688);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,i.QP)((0,a.$)(t))}},6639:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(5155),i=r(1056),n=r(5695),o=r(2115);function s(e){let{children:t}=e,r=(0,n.useRouter)(),s=(0,o.useRef)(null),[c,l]=(0,o.useState)(!1),[d,u]=(0,o.useState)(!1);return((0,o.useEffect)(()=>{l(!0);let e=i.j.isAuthenticated();u(e),e||r.push("/login")},[r]),(0,o.useEffect)(()=>{d&&s.current&&s.current.focus()},[d]),c)?d?(0,a.jsx)("div",{ref:s,tabIndex:-1,className:"focus:outline-none",children:t}):(0,a.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",role:"status","aria-live":"polite",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"Redirecionando para login..."})}):(0,a.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",role:"status","aria-live":"polite",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"Verificando autentica\xe7\xe3o..."})})}},6740:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]])},7168:(e,t,r)=>{"use strict";r.d(t,{$:()=>c});var a=r(5155);r(2115);var i=r(9708),n=r(2085),o=r(3999);let s=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function c(e){let{className:t,variant:r,size:n,asChild:c=!1,...l}=e,d=c?i.DX:"button";return(0,a.jsx)(d,{"data-slot":"button",className:(0,o.cn)(s({variant:r,size:n,className:t})),...l})}},7434:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},8482:(e,t,r)=>{"use strict";r.d(t,{Wu:()=>c,ZB:()=>s,Zp:()=>n,aR:()=>o});var a=r(5155);r(2115);var i=r(3999);function n(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,i.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...r})}function o(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,i.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...r})}function s(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,i.cn)("leading-none font-semibold",t),...r})}function c(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,i.cn)("px-6",t),...r})}},9676:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]])},9946:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var a=r(2115);let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),o=e=>{let t=n(e);return t.charAt(0).toUpperCase()+t.slice(1)},s=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},c=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:i=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:d="",children:u,iconNode:h,...p}=e;return(0,a.createElement)("svg",{ref:t,...l,width:i,height:i,stroke:r,strokeWidth:o?24*Number(n)/Number(i):n,className:s("lucide",d),...!u&&!c(p)&&{"aria-hidden":"true"},...p},[...h.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),u=(e,t)=>{let r=(0,a.forwardRef)((r,n)=>{let{className:c,...l}=r;return(0,a.createElement)(d,{ref:n,iconNode:t,className:s("lucide-".concat(i(o(e))),"lucide-".concat(e),c),...l})});return r.displayName=o(e),r}},9947:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[514,441,684,358],()=>t(1182)),_N_E=e.O()}]);