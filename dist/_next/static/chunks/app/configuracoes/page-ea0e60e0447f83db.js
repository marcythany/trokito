(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[299],{88:(e,t,a)=>{"use strict";a.d(t,{d:()=>i});var r=a(5155);a(2115);var s=a(4884),n=a(3999);function i(e){let{className:t,...a}=e;return(0,r.jsx)(s.bL,{"data-slot":"switch",className:(0,n.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...a,children:(0,r.jsx)(s.zi,{"data-slot":"switch-thumb",className:(0,n.cn)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}},1056:(e,t,a)=>{"use strict";a.d(t,{j:()=>s});class r{isWebAuthnSupported(){return void 0!==window.PublicKeyCredential&&void 0!==navigator.credentials}async registerWithWebAuthn(e){if(!this.isWebAuthnSupported())throw Error("WebAuthn n\xe3o \xe9 suportado neste navegador");try{let t={challenge:this.generateChallenge(),rp:{name:"Trokito",id:window.location.hostname},user:{id:this.stringToBuffer(e),name:e,displayName:e},pubKeyCredParams:[{type:"public-key",alg:-7}],authenticatorSelection:{authenticatorAttachment:"platform",requireResidentKey:!1,userVerification:"preferred"},timeout:6e4,attestation:"none"};if(!await navigator.credentials.create({publicKey:t}))throw Error("Falha ao criar credencial");let a={id:e,name:e,createdAt:new Date};return localStorage.setItem(this.USER_STORAGE_KEY,JSON.stringify(a)),a}catch(e){return console.error("Erro no registro com WebAuthn:",e),null}}async authenticateWithWebAuthn(){if(!this.isWebAuthnSupported())throw Error("WebAuthn n\xe3o \xe9 suportado neste navegador");try{let e=localStorage.getItem(this.USER_STORAGE_KEY);if(!e)throw Error("Nenhum usu\xe1rio registrado");let t=JSON.parse(e),a=this.generateChallenge();if(!await navigator.credentials.get({publicKey:{challenge:a,timeout:6e4,userVerification:"preferred"}}))throw Error("Falha na autentica\xe7\xe3o");return t}catch(e){return console.error("Erro na autentica\xe7\xe3o com WebAuthn:",e),null}}setPIN(e){localStorage.setItem(this.PIN_STORAGE_KEY,e)}verifyPIN(e){return localStorage.getItem(this.PIN_STORAGE_KEY)===e}isAuthenticated(){return null!==localStorage.getItem(this.USER_STORAGE_KEY)}getCurrentUser(){let e=localStorage.getItem(this.USER_STORAGE_KEY);return e?JSON.parse(e):null}logout(){localStorage.removeItem(this.USER_STORAGE_KEY),localStorage.removeItem(this.PIN_STORAGE_KEY)}generateChallenge(){let e=new Uint8Array(32);return window.crypto.getRandomValues(e),e.buffer}stringToBuffer(e){return new TextEncoder().encode(e).buffer}constructor(){this.USER_STORAGE_KEY="trokito_user",this.PIN_STORAGE_KEY="trokito_pin"}}let s=new r},2714:(e,t,a)=>{"use strict";a.d(t,{J:()=>i});var r=a(5155);a(2115);var s=a(968),n=a(3999);function i(e){let{className:t,...a}=e;return(0,r.jsx)(s.b,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...a})}},3848:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>_});var r=a(5155),s=a(6639),n=a(7168),i=a(8482),o=a(2714),d=a(2115),l=a(1721),c=a(6474),u=a(5196),h=a(7863),m=a(3999);function g(e){let{...t}=e;return(0,r.jsx)(l.bL,{"data-slot":"select",...t})}function x(e){let{...t}=e;return(0,r.jsx)(l.WT,{"data-slot":"select-value",...t})}function f(e){let{className:t,size:a="default",children:s,...n}=e;return(0,r.jsxs)(l.l9,{"data-slot":"select-trigger","data-size":a,className:(0,m.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n,children:[s,(0,r.jsx)(l.In,{asChild:!0,children:(0,r.jsx)(c.A,{className:"size-4 opacity-50"})})]})}function p(e){let{className:t,children:a,position:s="popper",...n}=e;return(0,r.jsx)(l.ZL,{children:(0,r.jsxs)(l.UC,{"data-slot":"select-content",className:(0,m.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:s,...n,children:[(0,r.jsx)(b,{}),(0,r.jsx)(l.LM,{className:(0,m.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:a}),(0,r.jsx)(j,{})]})})}function v(e){let{className:t,children:a,...s}=e;return(0,r.jsxs)(l.q7,{"data-slot":"select-item",className:(0,m.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...s,children:[(0,r.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,r.jsx)(l.VF,{children:(0,r.jsx)(u.A,{className:"size-4"})})}),(0,r.jsx)(l.p4,{children:a})]})}function b(e){let{className:t,...a}=e;return(0,r.jsx)(l.PP,{"data-slot":"select-scroll-up-button",className:(0,m.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,r.jsx)(h.A,{className:"size-4"})})}function j(e){let{className:t,...a}=e;return(0,r.jsx)(l.wn,{"data-slot":"select-scroll-down-button",className:(0,m.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,r.jsx)(c.A,{className:"size-4"})})}var y=a(88),N=a(7550),w=a(381),S=a(6874),k=a.n(S);let E="trokito-settings";function _(){let[e,t]=(0,d.useState)({theme:"system",fontSize:"medium",reducedMotion:!1,highContrast:!1,autoSave:!0}),a=(0,d.useRef)(null);(0,d.useEffect)(()=>{a.current&&a.current.focus(),l()},[]);let l=()=>{try{let a=localStorage.getItem(E);if(a){let r=JSON.parse(a);t({...e,...r}),u(r)}}catch(e){console.error("Erro ao carregar configura\xe7\xf5es:",e)}},c=a=>{try{let r={...e,...a};t(r),localStorage.setItem(E,JSON.stringify(r)),u(r)}catch(e){console.error("Erro ao salvar configura\xe7\xf5es:",e)}},u=e=>{let t=document.documentElement,a=window.matchMedia("(prefers-color-scheme: dark)").matches;"dark"===e.theme||"system"===e.theme&&a?t.classList.add("dark"):t.classList.remove("dark"),t.classList.remove("text-small","text-medium","text-large"),t.classList.add("text-".concat(e.fontSize));let r=window.matchMedia("(prefers-reduced-motion: reduce)").matches;e.reducedMotion||r?(t.style.setProperty("--motion-duration","0s"),t.classList.add("motion-reduce")):(t.style.removeProperty("--motion-duration"),t.classList.remove("motion-reduce")),e.highContrast?t.classList.add("high-contrast"):t.classList.remove("high-contrast")};return(0,r.jsx)(s.A,{children:(0,r.jsx)("div",{className:"min-h-screen bg-background p-4",children:(0,r.jsx)("div",{className:"max-w-md mx-auto space-y-6",children:(0,r.jsxs)("div",{className:"animate-in fade-in slide-in-from-top-2 duration-300",children:[(0,r.jsx)(k(),{href:"/",children:(0,r.jsxs)(n.$,{variant:"ghost",className:"mb-4 pl-0 focus:ring-2 focus:ring-primary focus:ring-offset-2","aria-label":"Voltar para a p\xe1gina inicial",children:[(0,r.jsx)(N.A,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),"Voltar"]})}),(0,r.jsxs)(i.Zp,{children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsxs)(i.ZB,{ref:a,tabIndex:-1,className:"flex items-center gap-2 focus:outline-none",children:[(0,r.jsx)(w.A,{className:"h-6 w-6 text-primary","aria-hidden":"true"}),"Configura\xe7\xf5es"]}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Personalize sua experi\xeancia no Trokito"})]}),(0,r.jsxs)(i.Wu,{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.J,{htmlFor:"theme",children:"Tema"}),(0,r.jsxs)(g,{value:e.theme,onValueChange:e=>c({theme:e}),children:[(0,r.jsx)(f,{id:"theme",children:(0,r.jsx)(x,{})}),(0,r.jsxs)(p,{children:[(0,r.jsx)(v,{value:"light",children:"Claro"}),(0,r.jsx)(v,{value:"dark",children:"Escuro"}),(0,r.jsx)(v,{value:"system",children:"Sistema"})]})]}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Escolha o tema da interface"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.J,{htmlFor:"fontSize",children:"Tamanho da Fonte"}),(0,r.jsxs)(g,{value:e.fontSize,onValueChange:e=>c({fontSize:e}),children:[(0,r.jsx)(f,{id:"fontSize",children:(0,r.jsx)(x,{})}),(0,r.jsxs)(p,{children:[(0,r.jsx)(v,{value:"small",children:"Pequeno"}),(0,r.jsx)(v,{value:"medium",children:"M\xe9dio"}),(0,r.jsx)(v,{value:"large",children:"Grande"})]})]}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Ajuste o tamanho do texto para melhor legibilidade"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"space-y-0.5",children:[(0,r.jsx)(o.J,{htmlFor:"reducedMotion",children:"Movimentos Reduzidos"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Reduz anima\xe7\xf5es para melhor acessibilidade"})]}),(0,r.jsx)(y.d,{id:"reducedMotion",checked:e.reducedMotion,onCheckedChange:e=>c({reducedMotion:e})})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"space-y-0.5",children:[(0,r.jsx)(o.J,{htmlFor:"highContrast",children:"Alto Contraste"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Aumenta o contraste para melhor visibilidade"})]}),(0,r.jsx)(y.d,{id:"highContrast",checked:e.highContrast,onCheckedChange:e=>c({highContrast:e})})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"space-y-0.5",children:[(0,r.jsx)(o.J,{htmlFor:"autoSave",children:"Salvamento Autom\xe1tico"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Salva automaticamente c\xe1lculos e fechamentos"})]}),(0,r.jsx)(y.d,{id:"autoSave",checked:e.autoSave,onCheckedChange:e=>c({autoSave:e})})]})]}),(0,r.jsx)("div",{className:"border-t pt-4",children:(0,r.jsx)(n.$,{onClick:()=>{if(confirm("Tem certeza que deseja restaurar as configura\xe7\xf5es padr\xe3o?")){let e={theme:"system",fontSize:"medium",reducedMotion:!1,highContrast:!1,autoSave:!0};t(e),localStorage.removeItem(E),u(e)}},variant:"outline",className:"w-full focus:ring-2 focus:ring-primary focus:ring-offset-2",children:"Restaurar Padr\xf5es"})}),(0,r.jsx)("div",{className:"text-center text-xs text-muted-foreground",children:(0,r.jsx)("p",{children:"Vers\xe3o 1.0 - Configura\xe7\xf5es salvas localmente"})})]})]})]})})})})}},3999:(e,t,a)=>{"use strict";a.d(t,{cn:()=>n});var r=a(2596),s=a(9688);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.$)(t))}},6639:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var r=a(5155),s=a(1056),n=a(5695),i=a(2115);function o(e){let{children:t}=e,a=(0,n.useRouter)(),o=(0,i.useRef)(null),[d,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(!1);return((0,i.useEffect)(()=>{l(!0);let e=s.j.isAuthenticated();u(e),e||a.push("/login")},[a]),(0,i.useEffect)(()=>{c&&o.current&&o.current.focus()},[c]),d)?c?(0,r.jsx)("div",{ref:o,tabIndex:-1,className:"focus:outline-none",children:t}):(0,r.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",role:"status","aria-live":"polite",children:(0,r.jsx)("p",{className:"text-muted-foreground",children:"Redirecionando para login..."})}):(0,r.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",role:"status","aria-live":"polite",children:(0,r.jsx)("p",{className:"text-muted-foreground",children:"Verificando autentica\xe7\xe3o..."})})}},7168:(e,t,a)=>{"use strict";a.d(t,{$:()=>d});var r=a(5155);a(2115);var s=a(9708),n=a(2085),i=a(3999);let o=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function d(e){let{className:t,variant:a,size:n,asChild:d=!1,...l}=e,c=d?s.DX:"button";return(0,r.jsx)(c,{"data-slot":"button",className:(0,i.cn)(o({variant:a,size:n,className:t})),...l})}},7396:(e,t,a)=>{Promise.resolve().then(a.bind(a,3848))},8482:(e,t,a)=>{"use strict";a.d(t,{Wu:()=>d,ZB:()=>o,Zp:()=>n,aR:()=>i});var r=a(5155);a(2115);var s=a(3999);function n(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...a})}function i(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...a})}function o(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",t),...a})}function d(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",t),...a})}}},e=>{var t=t=>e(e.s=t);e.O(0,[514,906,942,83,441,684,358],()=>t(7396)),_N_E=e.O()}]);