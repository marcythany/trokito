(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{381:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},1056:(e,t,r)=>{"use strict";r.d(t,{j:()=>i});class a{isWebAuthnSupported(){return void 0!==window.PublicKeyCredential&&void 0!==navigator.credentials}async registerWithWebAuthn(e){if(!this.isWebAuthnSupported())throw Error("WebAuthn n\xe3o \xe9 suportado neste navegador");try{let t={challenge:this.generateChallenge(),rp:{name:"Trokito",id:window.location.hostname},user:{id:this.stringToBuffer(e),name:e,displayName:e},pubKeyCredParams:[{type:"public-key",alg:-7}],authenticatorSelection:{authenticatorAttachment:"platform",requireResidentKey:!1,userVerification:"preferred"},timeout:6e4,attestation:"none"};if(!await navigator.credentials.create({publicKey:t}))throw Error("Falha ao criar credencial");let r={id:e,name:e,createdAt:new Date};return localStorage.setItem(this.USER_STORAGE_KEY,JSON.stringify(r)),r}catch(e){return console.error("Erro no registro com WebAuthn:",e),null}}async authenticateWithWebAuthn(){if(!this.isWebAuthnSupported())throw Error("WebAuthn n\xe3o \xe9 suportado neste navegador");try{let e=localStorage.getItem(this.USER_STORAGE_KEY);if(!e)throw Error("Nenhum usu\xe1rio registrado");let t=JSON.parse(e),r=this.generateChallenge();if(!await navigator.credentials.get({publicKey:{challenge:r,timeout:6e4,userVerification:"preferred"}}))throw Error("Falha na autentica\xe7\xe3o");return t}catch(e){return console.error("Erro na autentica\xe7\xe3o com WebAuthn:",e),null}}setPIN(e){localStorage.setItem(this.PIN_STORAGE_KEY,e)}verifyPIN(e){return localStorage.getItem(this.PIN_STORAGE_KEY)===e}isAuthenticated(){return null!==localStorage.getItem(this.USER_STORAGE_KEY)}getCurrentUser(){let e=localStorage.getItem(this.USER_STORAGE_KEY);return e?JSON.parse(e):null}logout(){localStorage.removeItem(this.USER_STORAGE_KEY),localStorage.removeItem(this.PIN_STORAGE_KEY)}generateChallenge(){let e=new Uint8Array(32);return window.crypto.getRandomValues(e),e.buffer}stringToBuffer(e){return new TextEncoder().encode(e).buffer}constructor(){this.USER_STORAGE_KEY="trokito_user",this.PIN_STORAGE_KEY="trokito_pin"}}let i=new a},1057:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var a=r(5155),i=r(6639),s=r(7168),n=r(6740),o=r(7434),l=r(9676),c=r(381),d=r(9947),u=r(2115);function h(){let[e,t]=(0,u.useState)(!1),r=(0,u.useRef)(null);(0,u.useEffect)(()=>{let e=()=>{window.matchMedia("(display-mode: standalone)").matches&&t(!0)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,u.useEffect)(()=>{r.current&&r.current.focus()},[]);let h=[{title:"Calcular Troco",description:"Calcule o troco de forma r\xe1pida e otimizada",icon:n.A,href:"/troco",color:"bg-primary"},{title:"Fechamento",description:"Fa\xe7a a contagem do vale/caixa",icon:o.A,href:"/fechamento",color:"bg-primary"},{title:"Hist\xf3rico",description:"Veja o hist\xf3rico de opera\xe7\xf5es",icon:l.A,href:"/historico",color:"bg-card"},{title:"Configura\xe7\xf5es",description:"Ajuste as configura\xe7\xf5es do app",icon:c.A,href:"/configuracoes",color:"bg-card"},{title:"Ajuda",description:"Tutorial e dicas de uso",icon:d.A,href:"/ajuda",color:"bg-card"}];return(0,a.jsx)(i.A,{children:(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted/20 flex items-center justify-center p-4 relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute inset-0 blur-bg grain-overlay"}),(0,a.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-primary/10 rounded-full blur-3xl animate-pulse"}),(0,a.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-accent/10 rounded-full blur-3xl animate-pulse delay-1000"})]}),(0,a.jsx)("div",{id:"main-content",className:"relative z-10 w-full max-w-6xl",children:(0,a.jsxs)("div",{className:"bento-grid gap-6",children:[(0,a.jsxs)("div",{className:"col-span-1 md:col-span-2 lg:col-span-3 text-center",children:[(0,a.jsx)("h1",{ref:r,tabIndex:-1,className:"kinetic-text text-4xl md:text-6xl font-bold mb-4 focus:outline-none",children:"Trokito"}),(0,a.jsx)("p",{className:"text-muted-foreground text-lg md:text-xl",children:"Calculadora de Troco Inteligente"}),!e&&(0,a.jsx)("div",{className:"glassmorphism rounded-xl p-3 mt-4 inline-block",children:(0,a.jsx)("p",{className:"text-sm text-foreground/80",role:"status",children:"\uD83D\uDCA1 Adicione \xe0 tela inicial para acesso r\xe1pido"})})]}),(0,a.jsxs)("div",{className:"bento-item col-span-1 md:col-span-2 lg:col-span-3",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-foreground mb-6 text-center",children:"Recursos Dispon\xedveis"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map((e,t)=>{let r=e.icon;return(0,a.jsx)("div",{className:"glassmorphism neumorphism hover:transform hover:scale-105 transition-all duration-300 ".concat(0===t?"md:col-span-2":""),children:(0,a.jsxs)(s.$,{variant:"ghost",className:"w-full h-full p-6 flex flex-col items-center gap-4 text-center touch-target focus-ring mobile-tap mobile-optimized",onClick:()=>window.location.href=e.href,"aria-label":"".concat(e.title,": ").concat(e.description),children:[(0,a.jsx)("div",{className:"neumorphism rounded-xl p-4",children:(0,a.jsx)(r,{className:"h-10 w-10 text-primary","aria-hidden":"true"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-foreground mb-2",children:e.title}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm leading-relaxed",children:e.description})]})]})},e.href)})})]}),(0,a.jsx)("div",{className:"bento-item glassmorphism neumorphism col-span-1 md:col-span-2 lg:col-span-3",children:(0,a.jsxs)("div",{className:"text-center space-y-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 mx-auto neumorphism rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-2xl",children:"âš¡"})}),(0,a.jsx)("h3",{className:"font-semibold text-foreground",children:"Sobre o Trokito"}),(0,a.jsxs)("div",{className:"space-y-2 text-sm text-muted-foreground",children:[(0,a.jsx)("p",{children:"Vers\xe3o 1.0 - Funciona completamente offline"}),(0,a.jsx)("p",{children:"Feito especialmente para operadores de caixa brasileiros"}),(0,a.jsx)("p",{children:"Interface moderna com suporte a acessibilidade"})]})]})})]})})]})})}},1182:(e,t,r)=>{Promise.resolve().then(r.bind(r,1057))},3999:(e,t,r)=>{"use strict";r.d(t,{cn:()=>s});var a=r(2596),i=r(9688);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,i.QP)((0,a.$)(t))}},5695:(e,t,r)=>{"use strict";var a=r(8999);r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},6639:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var a=r(5155),i=r(1056),s=r(5695),n=r(2115);function o(e){let{children:t}=e,r=(0,s.useRouter)(),o=(0,n.useRef)(null),[l,c]=(0,n.useState)(!1),[d,u]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{c(!0);let e=i.j.isAuthenticated();u(e),e||r.push("/login")},[r]),(0,n.useEffect)(()=>{d&&o.current&&o.current.focus()},[d]),l)?d?(0,a.jsx)("div",{ref:o,tabIndex:-1,className:"focus:outline-none",children:t}):(0,a.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",role:"status","aria-live":"polite",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"Redirecionando para login..."})}):(0,a.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",role:"status","aria-live":"polite",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"Verificando autentica\xe7\xe3o..."})})}},6740:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]])},7168:(e,t,r)=>{"use strict";r.d(t,{$:()=>l});var a=r(5155);r(2115);var i=r(9708),s=r(2085),n=r(3999);let o=(0,s.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:t,variant:r,size:s,asChild:l=!1,...c}=e,d=l?i.DX:"button";return(0,a.jsx)(d,{"data-slot":"button",className:(0,n.cn)(o({variant:r,size:s,className:t})),...c})}},7434:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},9676:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]])},9946:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var a=r(2115);let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),n=e=>{let t=s(e);return t.charAt(0).toUpperCase()+t.slice(1)},o=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},l=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:n,className:d="",children:u,iconNode:h,...m}=e;return(0,a.createElement)("svg",{ref:t,...c,width:i,height:i,stroke:r,strokeWidth:n?24*Number(s)/Number(i):s,className:o("lucide",d),...!u&&!l(m)&&{"aria-hidden":"true"},...m},[...h.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),u=(e,t)=>{let r=(0,a.forwardRef)((r,s)=>{let{className:l,...c}=r;return(0,a.createElement)(d,{ref:s,iconNode:t,className:o("lucide-".concat(i(n(e))),"lucide-".concat(e),l),...c})});return r.displayName=n(e),r}},9947:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[352,441,684,358],()=>t(1182)),_N_E=e.O()}]);