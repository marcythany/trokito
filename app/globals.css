@import 'tailwindcss';
@import 'tw-animate-css';

@custom-variant dark (&:is(.dark *));

:root {
	/* Atualizando cores para o tema Trokito - verde escuro, laranja e branco */
	--background: #0b4d36; /* Verde escuro principal */
	--foreground: #ffffff; /* Texto branco */
	--card: #1a6a54; /* Verde mais claro para cards */
	--card-foreground: #ffffff; /* Texto branco em cards */
	--popover: #0b4d36; /* Verde escuro para popovers */
	--popover-foreground: #ffffff; /* Texto branco em popovers */
	--primary: #ff7a18; /* Laranja para botões primários */
	--primary-foreground: #ffffff; /* Texto branco em botões primários */
	--secondary: #ffffff; /* Branco para elementos secundários */
	--secondary-foreground: #0b4d36; /* Verde escuro em elementos secundários */
	--muted: #0b4d36; /* Verde escuro para elementos silenciados */
	--muted-foreground: #ffffff; /* Texto branco em elementos silenciados */
	--accent: #ff7a18; /* Laranja para acentos */
	--accent-foreground: #ffffff; /* Texto branco em acentos */
	--destructive: #ff4c4c; /* Vermelho para avisos */
	--destructive-foreground: #ffffff; /* Texto branco em avisos */
	--border: #ff7a18; /* Laranja para bordas */
	--input: #ffffff; /* Branco para campos de entrada */
	--ring: rgba(255, 122, 24, 0.5); /* Laranja transparente para foco */
	--chart-1: #ff7a18;
	--chart-2: #0b4d36;
	--chart-3: #ffffff;
	--chart-4: #ff7a18;
	--chart-5: #0b4d36;
	--radius: 0.5rem;
	--sidebar: #0b4d36;
	--sidebar-foreground: #ffffff;
	--sidebar-primary: #ff7a18;
	--sidebar-primary-foreground: #ffffff;
	--sidebar-accent: #ff7a18;
	--sidebar-accent-foreground: #ffffff;
	--sidebar-border: #ff7a18;
	--sidebar-ring: rgba(255, 122, 24, 0.5);
}

.dark {
	/* Mantendo as mesmas cores para modo escuro já que o design é naturalmente escuro */
	--background: #0b4d36;
	--foreground: #ffffff;
	--card: #1a6a54;
	--card-foreground: #ffffff;
	--popover: #0b4d36;
	--popover-foreground: #ffffff;
	--primary: #ff7a18;
	--primary-foreground: #ffffff;
	--secondary: #ffffff;
	--secondary-foreground: #0b4d36;
	--muted: #0b4d36;
	--muted-foreground: #ffffff;
	--accent: #ff7a18;
	--accent-foreground: #ffffff;
	--destructive: #ff4c4c;
	--destructive-foreground: #ffffff;
	--border: #ff7a18;
	--input: #ffffff;
	--ring: rgba(255, 122, 24, 0.5);
	--chart-1: #ff7a18;
	--chart-2: #0b4d36;
	--chart-3: #ffffff;
	--chart-4: #ff7a18;
	--chart-5: #0b4d36;
	--sidebar: #0b4d36;
	--sidebar-foreground: #ffffff;
	--sidebar-primary: #ff7a18;
	--sidebar-primary-foreground: #ffffff;
	--sidebar-accent: #ff7a18;
	--sidebar-accent-foreground: #ffffff;
	--sidebar-border: #ff7a18;
	--sidebar-ring: rgba(255, 122, 24, 0.5);
}

@theme inline {
	--color-background: var(--background);
	--color-foreground: var(--foreground);
	--color-card: var(--card);
	--color-card-foreground: var(--card-foreground);
	--color-popover: var(--popover);
	--color-popover-foreground: var(--popover-foreground);
	--color-primary: var(--primary);
	--color-primary-foreground: var(--primary-foreground);
	--color-secondary: var(--secondary);
	--color-secondary-foreground: var(--secondary-foreground);
	--color-muted: var(--muted);
	--color-muted-foreground: var(--muted-foreground);
	--color-accent: var(--accent);
	--color-accent-foreground: var(--accent-foreground);
	--color-destructive: var(--destructive);
	--color-destructive-foreground: var(--destructive-foreground);
	--color-border: var(--border);
	--color-input: var(--input);
	--color-ring: var(--ring);
	--color-chart-1: var(--chart-1);
	--color-chart-2: var(--chart-2);
	--color-chart-3: var(--chart-3);
	--color-chart-4: var(--chart-4);
	--color-chart-5: var(--chart-5);
	--radius-sm: calc(var(--radius) - 4px);
	--radius-md: calc(var(--radius) - 2px);
	--radius-lg: var(--radius);
	--radius-xl: calc(var(--radius) + 4px);
	--color-sidebar: var(--sidebar);
	--color-sidebar-foreground: var(--sidebar-foreground);
	--color-sidebar-primary: var(--sidebar-primary);
	--color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
	--color-sidebar-accent: var(--sidebar-accent);
	--color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
	--color-sidebar-border: var(--sidebar-border);
	--color-sidebar-ring: var(--sidebar-ring);
}

@layer base {
	* {
		@apply border-border outline-ring/50;
	}
	body {
		@apply bg-background text-foreground;
		/* Adicionando configurações para acessibilidade e PWA */
		font-size: 18px; /* Fonte maior para acessibilidade */
		line-height: 1.6;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
	}

	/* Estilos específicos para acessibilidade e discalculia */
	.large-text {
		font-size: 1.25rem;
		font-weight: 600;
	}

	.extra-large-text {
		font-size: 1.5rem;
		font-weight: 700;
	}

	.touch-target {
		min-height: 44px;
		min-width: 44px;
	}

	.high-contrast {
		border: 2px solid var(--accent);
	}
}

@layer utilities {
	/* Mobile-optimized glassmorphism - reduced blur for performance */
	.glassmorphism {
		background: rgba(255, 255, 255, 0.15);
		backdrop-filter: blur(8px);
		-webkit-backdrop-filter: blur(8px);
		border: 1px solid rgba(255, 255, 255, 0.25);
		box-shadow: 0 4px 16px 0 rgba(31, 38, 135, 0.2);
	}

	.dark .glassmorphism {
		background: rgba(0, 0, 0, 0.25);
		border: 1px solid rgba(255, 255, 255, 0.15);
	}

	/* Mobile-optimized neumorphism - softer shadows for touch */
	.neumorphism {
		background: linear-gradient(145deg, #1a6a54, #0f5a45);
		box-shadow: 8px 8px 16px #0a3d2d, -8px -8px 16px #0e5f3f;
		border-radius: 16px;
		transition: all 0.15s ease-out;
	}

	.neumorphism:active {
		box-shadow: 4px 4px 8px #0a3d2d, -4px -4px 8px #0e5f3f;
		transform: scale(0.98);
	}

	.neumorphism-inset {
		background: linear-gradient(145deg, #1a6a54, #0f5a45);
		box-shadow: inset 8px 8px 16px #0a3d2d, inset -8px -8px 16px #0e5f3f;
	}

	/* Bento grid layout - 2025 trend */
	.bento-grid {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
		gap: 1rem;
		max-width: 1200px;
		margin: 0 auto;
	}

	.bento-item {
		padding: 1.5rem;
		border-radius: 16px;
		transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
	}

	.bento-item:hover {
		transform: translateY(-4px);
		box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
	}

	/* Kinetic typography - 2025 trend */
	.kinetic-text {
		background: linear-gradient(45deg, #ff7a18, #ff4c4c, #ff7a18);
		background-size: 200% 200%;
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
		background-clip: text;
		animation: gradient-shift 3s ease-in-out infinite;
	}

	@keyframes gradient-shift {
		0%,
		100% {
			background-position: 0% 50%;
		}
		50% {
			background-position: 100% 50%;
		}
	}

	/* Mobile-optimized blur effects - lighter for performance */
	.blur-bg {
		backdrop-filter: blur(12px);
		-webkit-backdrop-filter: blur(12px);
	}

	/* Lighter grain effect for mobile performance */
	.grain-overlay::before {
		content: '';
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 128 128' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='1.5' numOctaves='2' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
		opacity: 0.02;
		pointer-events: none;
	}

	/* Low light mode - 2025 trend */
	.low-light {
		background: linear-gradient(135deg, #0b4d36 0%, #0a3d2d 100%);
		filter: brightness(0.8) contrast(1.1);
	}

	/* Enhanced accessibility with mobile touch targets - 2025 trend */
	.focus-ring {
		@apply focus:ring-4 focus:ring-primary/50 focus:ring-offset-2 focus:ring-offset-background;
	}

	/* Mobile touch targets - minimum 44px for accessibility */
	.touch-target {
		min-height: 44px;
		min-width: 44px;
		padding: 12px;
	}

	/* Mobile-optimized animations - faster for touch feedback */
	.mobile-tap {
		transition: all 0.1s ease-out;
		-webkit-tap-highlight-color: transparent;
		touch-action: manipulation;
	}

	/* Enhanced mobile touch targets */
	@media (max-width: 768px) {
		.mobile-tap {
			min-height: 48px;
			min-width: 48px;
			padding: 14px 16px;
		}

		/* Ensure buttons are large enough for touch */
		button:not(.small-button) {
			min-height: 48px;
			padding: 12px 16px;
		}

		/* Better spacing for mobile touch */
		.touch-spacing {
			margin: 8px 0;
		}
	}

	/* Screen reader only content */
	.sr-only {
		position: absolute;
		width: 1px;
		height: 1px;
		padding: 0;
		margin: -1px;
		overflow: hidden;
		clip: rect(0, 0, 0, 0);
		white-space: nowrap;
		border: 0;
	}

	/* Skip to main content link for accessibility */
	.skip-link {
		position: absolute;
		top: -40px;
		left: 6px;
		background: hsl(var(--primary));
		color: hsl(var(--primary-foreground));
		padding: 8px;
		text-decoration: none;
		border-radius: 4px;
		z-index: 1000;
	}

	.skip-link:focus {
		top: 6px;
	}

	.mobile-tap:active {
		transform: scale(0.95);
	}

	/* Reduced motion for accessibility */
	.reduced-motion * {
		animation-duration: 0.01ms !important;
		animation-iteration-count: 1 !important;
		transition-duration: 0.01ms !important;
	}

	/* Mobile gesture support */
	.swipe-indicator {
		touch-action: pan-y;
		overscroll-behavior: contain;
	}

	/* Performance optimizations for mobile */
	.mobile-optimized {
		will-change: transform;
		transform: translateZ(0);
		backface-visibility: hidden;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
	}
}

@layer utilities {
	/* Mobile-first responsive design for smartphone apps */
	@media (max-width: 480px) {
		.bento-grid {
			grid-template-columns: 1fr;
			gap: 1rem;
			padding: 0 1rem;
		}

		.bento-item {
			padding: 1.25rem;
			border-radius: 12px;
		}

		/* Optimize text sizes for mobile */
		.kinetic-text {
			font-size: 2rem;
		}

		/* Mobile-specific spacing */
		.mobile-spacing {
			padding: 1rem;
			margin: 0.5rem 0;
		}
	}

	@media (min-width: 481px) and (max-width: 768px) {
		.bento-grid {
			grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
			gap: 1.25rem;
		}

		.bento-item {
			padding: 1.5rem;
		}
	}

	/* Large mobile devices (tablets in portrait) */
	@media (min-width: 769px) and (max-width: 1024px) {
		.bento-grid {
			grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
			gap: 1.5rem;
		}
	}

	/* Dark mode enhancements */
	.dark {
		.neumorphism {
			background: linear-gradient(145deg, #2a7a64, #1f6a54);
			box-shadow: 8px 8px 16px #1a5a44, -8px -8px 16px #2a7a64;
		}
	}

	/* High Contrast Mode Support - WCAG Compliant */
	@media (prefers-contrast: high), (forced-colors: active) {
		/* Override glassmorphism for high contrast */
		.glassmorphism {
			background: rgba(0, 0, 0, 0.9) !important;
			border: 2px solid WindowText !important;
			backdrop-filter: none !important;
			-webkit-backdrop-filter: none !important;
			box-shadow: none !important;
		}

		.dark .glassmorphism {
			background: rgba(255, 255, 255, 0.9) !important;
			border: 2px solid WindowText !important;
		}

		/* Override neumorphism for high contrast */
		.neumorphism {
			background: Window !important;
			border: 2px solid WindowText !important;
			box-shadow: none !important;
			color: WindowText !important;
		}

		.neumorphism-inset {
			background: Window !important;
			border: 2px solid WindowText !important;
			box-shadow: inset 2px 2px 4px WindowText !important;
			color: WindowText !important;
		}

		/* Ensure text contrast in high contrast mode */
		.glassmorphism,
		.neumorphism,
		.neumorphism-inset {
			color: WindowText !important;
		}

		.glassmorphism * {
			color: WindowText !important;
		}

		.neumorphism * {
			color: WindowText !important;
		}

		/* Override kinetic text for high contrast */
		.kinetic-text {
			background: none !important;
			-webkit-background-clip: unset !important;
			-webkit-text-fill-color: WindowText !important;
			background-clip: unset !important;
			color: WindowText !important;
			text-shadow: none !important;
		}

		/* Ensure focus rings are visible in high contrast */
		.focus-ring:focus {
			outline: 3px solid WindowText !important;
			outline-offset: 2px !important;
			box-shadow: none !important;
		}

		/* Enhanced focus visibility for better accessibility */
		.focus-ring:focus-visible {
			outline: 3px solid hsl(var(--primary)) !important;
			outline-offset: 2px !important;
			box-shadow: 0 0 0 1px hsl(var(--background)),
				0 0 0 4px hsl(var(--primary) / 0.3) !important;
		}

		/* High contrast focus for keyboard navigation */
		@media (prefers-contrast: high) {
			.focus-ring:focus-visible {
				outline: 4px solid WindowText !important;
				outline-offset: 3px !important;
				box-shadow: none !important;
			}
		}

		/* Override blur effects for high contrast */
		.blur-bg {
			backdrop-filter: none !important;
			-webkit-backdrop-filter: none !important;
			background: Window !important;
		}

		/* Override grain overlay for high contrast */
		.grain-overlay::before {
			display: none !important;
		}

		/* Ensure buttons have proper contrast */
		button {
			border: 2px solid WindowText !important;
			background: Window !important;
			color: WindowText !important;
		}

		button:hover,
		button:focus {
			background: Highlight !important;
			color: HighlightText !important;
		}

		/* Ensure inputs have proper contrast */
		input,
		textarea {
			border: 2px solid WindowText !important;
			background: Window !important;
			color: WindowText !important;
		}

		input:focus,
		textarea:focus {
			outline: 3px solid WindowText !important;
			outline-offset: 2px !important;
		}

		/* Ensure links have proper contrast */
		a {
			color: LinkText !important;
			text-decoration: underline !important;
		}

		a:hover,
		a:focus {
			color: LinkText !important;
			background: Highlight !important;
		}

		/* Override any background gradients that might cause contrast issues */
		* {
			background-image: none !important;
		}
	}

	/* Additional high contrast support for specific components */
	@media (prefers-contrast: high) {
		/* Ensure badges and labels are readable */
		.badge,
		label {
			background: Window !important;
			color: WindowText !important;
			border: 1px solid WindowText !important;
		}

		/* Ensure switch components are accessible */
		.switch {
			background: Window !important;
			border: 2px solid WindowText !important;
		}

		/* Ensure card components have proper contrast */
		.card {
			background: Window !important;
			border: 2px solid WindowText !important;
			color: WindowText !important;
		}
	}
}
